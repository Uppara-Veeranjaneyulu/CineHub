{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{API_KEY,BASE_URL,IMAGE_URL}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MovieDetails=()=>{const{id}=useParams();const[movie,setMovie]=useState({});const[video,setVideo]=useState(null);useEffect(()=>{const fetchMovie=async()=>{const{data}=await axios.get(\"\".concat(BASE_URL,\"/movie/\").concat(id,\"?api_key=\").concat(API_KEY));setMovie(data);};const fetchVideo=async()=>{const{data}=await axios.get(\"\".concat(BASE_URL,\"/movie/\").concat(id,\"/videos?api_key=\").concat(API_KEY));const trailer=data.results.find(v=>v.type==='Trailer'&&v.site==='YouTube');setVideo((trailer===null||trailer===void 0?void 0:trailer.key)||null);};fetchMovie();fetchVideo();},[id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:IMAGE_URL+movie.poster_path,alt:movie.title,className:\"w-full md:w-1/3 rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:movie.title}),/*#__PURE__*/_jsx(\"p\",{className:\"my-2\",children:movie.overview}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",movie.vote_average]}),video&&/*#__PURE__*/_jsx(\"iframe\",{className:\"w-full h-64 mt-4\",src:\"https://www.youtube.com/embed/\".concat(video),title:\"trailer\",allowFullScreen:true})]})]});};export default MovieDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","API_KEY","BASE_URL","IMAGE_URL","jsx","_jsx","jsxs","_jsxs","MovieDetails","id","movie","setMovie","video","setVideo","fetchMovie","data","get","concat","fetchVideo","trailer","results","find","v","type","site","key","className","children","src","poster_path","alt","title","overview","vote_average","allowFullScreen"],"sources":["C:/Users/uuppa/OneDrive/Documents/CIneHub/src/pages/MovieDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { API_KEY, BASE_URL, IMAGE_URL } from '../config';\r\n\r\nconst MovieDetails = () => {\r\n  const { id } = useParams();\r\n  const [movie, setMovie] = useState({});\r\n  const [video, setVideo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMovie = async () => {\r\n      const { data } = await axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\r\n      setMovie(data);\r\n    };\r\n    const fetchVideo = async () => {\r\n      const { data } = await axios.get(`${BASE_URL}/movie/${id}/videos?api_key=${API_KEY}`);\r\n      const trailer = data.results.find(v => v.type === 'Trailer' && v.site === 'YouTube');\r\n      setVideo(trailer?.key || null);\r\n    };\r\n    fetchMovie();\r\n    fetchVideo();\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"p-4 flex flex-col md:flex-row gap-4\">\r\n      <img src={IMAGE_URL + movie.poster_path} alt={movie.title} className=\"w-full md:w-1/3 rounded\"/>\r\n      <div className=\"flex-1\">\r\n        <h1 className=\"text-3xl font-bold\">{movie.title}</h1>\r\n        <p className=\"my-2\">{movie.overview}</p>\r\n        <p>Rating: {movie.vote_average}</p>\r\n        {video && \r\n          <iframe className=\"w-full h-64 mt-4\" src={`https://www.youtube.com/embed/${video}`} title=\"trailer\" allowFullScreen></iframe>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEC,EAAG,CAAC,CAAGV,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC,CACtC,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,IAAAC,MAAA,CAAIf,QAAQ,YAAAe,MAAA,CAAUR,EAAE,cAAAQ,MAAA,CAAYhB,OAAO,CAAE,CAAC,CAC9EU,QAAQ,CAACI,IAAI,CAAC,CAChB,CAAC,CACD,KAAM,CAAAG,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAEH,IAAK,CAAC,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,IAAAC,MAAA,CAAIf,QAAQ,YAAAe,MAAA,CAAUR,EAAE,qBAAAQ,MAAA,CAAmBhB,OAAO,CAAE,CAAC,CACrF,KAAM,CAAAkB,OAAO,CAAGJ,IAAI,CAACK,OAAO,CAACC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,GAAK,SAAS,EAAID,CAAC,CAACE,IAAI,GAAK,SAAS,CAAC,CACpFX,QAAQ,CAAC,CAAAM,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEM,GAAG,GAAI,IAAI,CAAC,CAChC,CAAC,CACDX,UAAU,CAAC,CAAC,CACZI,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACT,EAAE,CAAC,CAAC,CAER,mBACEF,KAAA,QAAKmB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDtB,IAAA,QAAKuB,GAAG,CAAEzB,SAAS,CAAGO,KAAK,CAACmB,WAAY,CAACC,GAAG,CAAEpB,KAAK,CAACqB,KAAM,CAACL,SAAS,CAAC,yBAAyB,CAAC,CAAC,cAChGnB,KAAA,QAAKmB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBtB,IAAA,OAAIqB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEjB,KAAK,CAACqB,KAAK,CAAK,CAAC,cACrD1B,IAAA,MAAGqB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEjB,KAAK,CAACsB,QAAQ,CAAI,CAAC,cACxCzB,KAAA,MAAAoB,QAAA,EAAG,UAAQ,CAACjB,KAAK,CAACuB,YAAY,EAAI,CAAC,CAClCrB,KAAK,eACJP,IAAA,WAAQqB,SAAS,CAAC,kBAAkB,CAACE,GAAG,kCAAAX,MAAA,CAAmCL,KAAK,CAAG,CAACmB,KAAK,CAAC,SAAS,CAACG,eAAe,MAAS,CAAC,EAE5H,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}